{"ast":null,"code":"import _asyncToGenerator from\"/home/saimon/Documents/Nexfar/nf-task-sandbox-v4/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/saimon/Documents/Nexfar/nf-task-sandbox-v4/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/saimon/Documents/Nexfar/nf-task-sandbox-v4/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/saimon/Documents/Nexfar/nf-task-sandbox-v4/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/saimon/Documents/Nexfar/nf-task-sandbox-v4/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/saimon/Documents/Nexfar/nf-task-sandbox-v4/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api=axios.create({baseURL:\"http://localhost:8080/api/\"});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={tasks:[],id:\"\",name:\"\",description:\"\"};_this.getTasks=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.get(\"/task\").then(function(_ref2){var data=_ref2.data;return data;});case 3:data=_context.sent;_this.setState({tasks:data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));_this.createTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(a,b){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(_this.state.id!=\"\")){_context2.next=6;break;}_context2.next=4;return api.put(\"/task/\".concat(_this.state.id),{name:a.target.value,description:b.target.value});case 4:_context2.next=8;break;case 6:_context2.next=8;return api.post(\"/task\",{name:a.target.value,description:b.target.value});case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 13:_this.setState({id:'',name:'',description:''});_this.getTasks();case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}();_this.deleteTask=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.delete(\"/task/\".concat(id));case 2:data=_context3.sent;_this.getTasks();case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}();_this.updateTask=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id,name,description){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this.setState({id:id,name:name,description:description});console.log(_this.state.name);_this.getTasks();case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4,_x5,_x6){return _ref5.apply(this,arguments);};}();_this.setName=function(a){_this.setState({name:a});};_this.setDescription=function(a){_this.setState({description:a});};_this.getTasks();return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tasks\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Description\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.tasks.map(function(task){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:task.id}),/*#__PURE__*/_jsx(\"td\",{children:task.name}),/*#__PURE__*/_jsx(\"td\",{children:task.description}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return _this2.deleteTask(task.id);},children:\"Delete\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return _this2.updateTask(task.id,task.name,task.description);},children:\"Update\"})})]},task.id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Send Task\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.name.value,onChange:function onChange(a){return _this2.setName(a);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.description.value,onChange:function onChange(a){return _this2.setDescription(a);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.createTask(_this2.state.name,_this2.state.description);},type:\"button\",className:\"btn btn-primary\",children:\" Send Task\"})]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","useState","Component","axios","api","create","baseURL","App","state","tasks","id","name","description","getTasks","get","then","data","setState","console","log","createTask","a","b","put","target","value","post","deleteTask","delete","updateTask","setName","setDescription","map","task"],"sources":["/home/saimon/Documents/Nexfar/nf-task-sandbox-v4/frontend/src/App.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { Component } from 'react';\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8080/api/\",\n})\n\nclass App extends Component {\n\n  state = {\n    tasks: [],\n    id:\"\",\n    name:\"\",\n    description:\"\"\n  }\n\n  constructor() {\n    super();\n    this.getTasks();\n  }\n\n  getTasks = async () => {\n    try{\n      let data = await api.get(\"/task\").then(({data}) => data);\n      this.setState({tasks:data})\n    } catch(err){\n      console.log(err)\n    }\n  }\n\n  createTask = async (a, b) => {\n    try {\n      if(this.state.id != \"\") {\n        await api.put(`/task/${this.state.id}`, {name:a.target.value, description:b.target.value})\n      } else {\n        await api.post(\"/task\", {name: a.target.value, description:b.target.value});\n      }\n    } catch(err) {\n      console.log(err)\n    }\n    this.setState({ id:'', name: '', description: '' })\n    this.getTasks();\n  }\n\n  deleteTask = async (id) => {\n    let data = await api.delete(`/task/${id}`)\n    this.getTasks();\n  }\n\n  updateTask = async (id, name, description) => {\n    \n    this.setState({ id:id, name: name, description: description })\n    console.log(this.state.name)\n\n    this.getTasks();\n  }\n\n  setName = (a) => {\n    this.setState({name:a});\n  }\n\n  setDescription = (a) => {\n    this.setState({description:a});\n  }\n\n  render () {\n    return (\n    <div className=\"App\">\n      <h1>\n        Tasks\n      </h1>\n        <div>\n        <table className=\"table table-striped\">\n          <thead>\n              <tr>\n                  <td>Id</td>\n                  <td>Name</td>\n                  <td>Description</td>\n              </tr>\n          </thead>\n          <tbody>\n              {\n                this.state.tasks.map(\n                    task =>\n                    <tr key= {task.id}>\n                        <td>{task.id}</td>\n                        <td>{task.name}</td>\n                        <td>{task.description}</td>\n                        <td><button  type=\"button\" className='btn btn-primary' onClick={() => this.deleteTask(task.id)}>Delete</button></td>\n                        <td><button  type=\"button\" className='btn btn-primary' onClick={() => this.updateTask(task.id, task.name, task.description)}>Update</button></td>\n                    </tr>\n                )\n              }\n          </tbody>\n          </table>\n          </div>\n          <div>\n            <h2>Send Task</h2>\n            <input type=\"text\" value={this.state.name.value} onChange={(a) => this.setName(a)}></input>\n            <input type=\"text\" value={this.state.description.value} onChange={(a) => this.setDescription(a)}></input>\n            <button onClick={() => this.createTask(this.state.name, this.state.description)} type=\"button\" className='btn btn-primary'> Send Task</button>\n          </div>\n    </div>\n\n  );\n}\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}